{"version":3,"sources":["app.js"],"names":["$","body","header","gallery","getGalleryData","ajax","url","success","data","createGallery","gallerySlideTemplate","html","galleryWrapper","gallerySlides","galleryNavListTemplate","galleryNavList","galleryNavListItems","i","length","slide","eq","img","find","descLink","descText","navItem","navLink","css","text","title","subtitle","attr","Swiper","loop","autoplay","speed","effect","coverflow","rotate","stretch","depth","modifier","slideShadows","centeredSlides","slidesPerView","nextButton","prevButton","onInit","swiper","setActiveGalleryItem","onTransitionStart","removeClass","onTransitionEnd","activeIndex","addClass","on","self","slideTo","hasClass","slideNext","slidePrev","isMobile","Android","navigator","userAgent","match","BlackBerry","iOS","Opera","Windows","any","introMove","introHeight","height","videoHeight","resultVideoHeight","documentHeight","document","documentElement","clientHeight","scrollHeight","resultScrollHeight","coeff","window","pageYOffset"],"mappings":"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","file":"app.js","sourcesContent":["$(function() {\r\n\r\n\tvar body = $(\"body\");\r\n\tvar header = $(\".header\");\r\n\tvar gallery;\r\n\r\n\r\n\t// запрос к файлу с данными\r\n\tfunction getGalleryData() {\r\n\t\t$.ajax({\r\n\t\t\turl: \"json/gallery-data.json\",\r\n\t\t\tsuccess: function(data) {\r\n\t\t\t\tcreateGallery(data);\r\n\t\t\t}\r\n\t\t})\r\n\t};\r\n\r\n\r\n\t// построить галерею\r\n\tfunction createGallery(data) {\r\n\r\n\t\tvar gallerySlideTemplate = $(\"#gallerySlideTemplate\").html();\r\n\t\tvar galleryWrapper = $(\".gallery__wrapper\");\r\n\t\tvar gallerySlides = \"\";\r\n\r\n\t\tvar galleryNavListTemplate = $(\"#galleryNavListTemplate\").html();\r\n\t\tvar galleryNavList = $(\".gallery__nav-list\");\r\n\t\tvar galleryNavListItems = \"\";\r\n\r\n\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\tgallerySlides += gallerySlideTemplate;\r\n\t\t\tgalleryNavListItems += galleryNavListTemplate;\r\n\t\t}\r\n\r\n\t\tgalleryWrapper.html(gallerySlides);\r\n\t\tgalleryNavList.html(galleryNavListItems);\r\n\r\n\t\tfor (var i = 0; i < data.length; i++) {\r\n\r\n\t\t\tvar slide = $(\".gallery__slide\").eq(i);\r\n\t\t\tvar img = slide.find(\".gallery__slide-img\");\r\n\t\t\tvar descLink = slide.find(\".gallery__slide-description-link\");\r\n\t\t\tvar descText = slide.find(\".gallery__slide-description-text\");\r\n\r\n\t\t\tvar navItem = $(\".gallery__nav-item\").eq(i);\r\n\t\t\tvar navLink = navItem.find(\".gallery__nav-link\");\r\n\r\n\t\t\timg.css(\"background-image\", \"url(\" + data[i].img + \")\");\r\n\t\t\tdescLink.text(data[i].title);\r\n\t\t\tdescText.text(data[i].subtitle);\r\n\r\n\t\t\tnavItem.attr(\"data-slide\", i);\r\n\t\t\tnavLink.text(data[i].title);\r\n\t\t}\r\n\r\n\t\tgallery = new Swiper (\".gallery__container\", {\r\n\t\t\tloop: false,\r\n\t\t\tautoplay: 4000,\r\n\t\t\tspeed: 1000,\r\n\t\t\teffect: \"coverflow\",\r\n\t\t\tcoverflow: {\r\n\t\t\t\trotate: 60,\r\n\t\t\t\tstretch: 0,\r\n\t\t\t\tdepth: 100,\r\n\t\t\t\tmodifier: 1,\r\n\t\t\t\tslideShadows : true\r\n\t\t\t},\r\n\t\t\tcenteredSlides: true,\r\n\t\t\tslidesPerView: 2,\r\n\t\t\tnextButton: \".swiper-slide-next\",\r\n\t\t\tprevButton: \".swiper-slide-prev\",\r\n\t\t\tonInit: function(swiper) {\r\n\t\t\t\tsetActiveGalleryItem(swiper);\r\n\t\t\t},\r\n\t\t\tonTransitionStart: function(swiper) {\r\n\t\t\t\t$(\".gallery__slide_description_show\").removeClass(\"gallery__slide_description_show\");\r\n\t\t\t},\r\n\t\t\tonTransitionEnd: function(swiper) {\r\n\t\t\t\tsetActiveGalleryItem(swiper);\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\r\n\t// обозначить активный элемент навигации галереи\r\n\tfunction setActiveGalleryItem(swiper) {\r\n\t\t$(\".gallery__nav-item_active\").removeClass(\"gallery__nav-item_active\");\r\n\t\t$(\".gallery__nav-item\").eq(swiper.activeIndex).addClass(\"gallery__nav-item_active\");\r\n\r\n\t\t$(\".gallery__slide\").eq(swiper.activeIndex).addClass(\"gallery__slide_description_show\");\r\n\t};\r\n\r\n\t// обработчик клика по элементу навигации галереи\r\n\tbody.on(\"click\", \".gallery__nav-item\", function() {\r\n\r\n\t\tvar self = $(this);\r\n\t\tvar slide = self.data(\"slide\");\r\n\r\n\t\tgallery.slideTo(slide);\r\n\t});\r\n\r\n\r\n\t// обработчик клика по следующему, предыдущему слайду\r\n\tbody.on(\"click\", \".gallery__slide\", function() {\r\n\r\n\t\tvar self = $(this);\r\n\r\n\t\tif (self.hasClass(\"swiper-slide-next\")) {\r\n\t\t\tgallery.slideNext();\r\n\t\t} else if (self.hasClass(\"swiper-slide-prev\")) {\r\n\t\t\tgallery.slidePrev();\r\n\t\t}\r\n\t\t\r\n\t});\r\n\r\n\r\n\t// обработчик клика по кнопке меню\r\n\tbody.on(\"click\", \".header__menu-btn\", function() {\r\n\r\n\t\tvar self = $(this);\r\n\r\n\t\tif (self.hasClass(\"header__menu-btn_active\")) {\r\n\t\t\tself.removeClass(\"header__menu-btn_active\");\r\n\t\t\theader.removeClass(\"header_open\");\r\n\t\t} else {\r\n\t\t\tself.addClass(\"header__menu-btn_active\");\r\n\t\t\theader.addClass(\"header_open\");\r\n\t\t}\r\n\t});\r\n\r\n\r\n\t// определить мобильный браузер\r\n\tvar isMobile = {\r\n\t\tAndroid: function() {\r\n\t\t\treturn navigator.userAgent.match(/Android/i);\r\n\t\t},\r\n\t\tBlackBerry: function() {\r\n\t\t\treturn navigator.userAgent.match(/BlackBerry/i);\r\n\t\t},\r\n\t\tiOS: function() {\r\n\t\t\treturn navigator.userAgent.match(/iPhone|iPad|iPod/i);\r\n\t\t},\r\n\t\tOpera: function() {\r\n\t\t\treturn navigator.userAgent.match(/Opera Mini/i);\r\n\t\t},\r\n\t\tWindows: function() {\r\n\t\t\treturn navigator.userAgent.match(/IEMobile/i);\r\n\t\t},\r\n\t\tany: function() {\r\n\t\t\treturn (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());\r\n\t\t}\r\n\t};\r\n\r\n\r\n\t// параллакс контейнера с видео\r\n\tfunction introMove() {\r\n\t\tvar introHeight = $(\".intro\").height();\r\n\t\tvar videoHeight = $(\".intro__video-wrap\").height();\r\n\t\tvar resultVideoHeight = videoHeight - introHeight;\r\n\r\n\t\tvar documentHeight = document.documentElement.clientHeight;\r\n\t\tvar scrollHeight = document.documentElement.scrollHeight;\r\n\t\tvar resultScrollHeight = scrollHeight - documentHeight;\r\n\r\n\t\tvar coeff = resultScrollHeight / introHeight;\r\n\r\n\t\tif (!isMobile.any()) {\r\n\r\n\t\t\t$(\".intro__video-wrap\").css(\"transform\", \"translateY(\" + -(window.pageYOffset * coeff) + \"px)\");\r\n\t\t\t$(\".intro__title\").css(\"transform\", \"translateY(\" + -(window.pageYOffset * coeff) + \"px)\");\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\t$(window).on(\"scroll\", function() {\r\n\t\tintroMove();\r\n\t});\r\n\r\n\tintroMove();\r\n\tgetGalleryData();\r\n\r\n});"]}